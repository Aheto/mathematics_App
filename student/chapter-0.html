<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Mini OpenStax: Modeling Number Quantities Greater Than 1,000,000,000"/>
  <title>Mini OpenStax ‚Äî Modeling Number Quantities Greater Than 1,000,000,000</title>
  <style>
    :root {
      --green: #006b3d;   /* Ghana green */
      --gold: #cead00;    /* Ghana gold */
      --light: #f9f9f9;
      --dark: #2d2d2d;
    }
    body { 
      font-family: 'Segoe UI', system-ui, sans-serif; 
      margin: 0; 
      padding: 0; 
      background: #fff; 
      color: var(--dark); 
      line-height: 1.6;
    }
    .container { 
      max-width: 800px; 
      margin: 0 auto; 
      padding: 1rem; 
    }
    .header { 
      display: flex; 
      justify-content: space-between; 
      align-items: center; 
      margin-bottom: 1.5rem; 
      flex-wrap: wrap; 
      gap: 0.5rem; 
    }
    .role-badge { 
      background: #e9ecef; 
      padding: 0.25rem 0.5rem; 
      border-radius: 4px; 
      font-size: 0.85rem; 
    }
    .chapter-nav { 
      margin: 1.2rem 0; 
      display: flex; 
      flex-wrap: wrap; 
      gap: 0.4rem; 
      justify-content: center; 
    }
    .chapter-btn {
      padding: 0.4rem 0.8rem; 
      background: var(--green); 
      color: white; 
      text-decoration: none; 
      border-radius: 4px; 
      font-size: 0.9rem;
    }
    .chapter-btn.active, .chapter-btn:hover { 
      background: #00502e; 
    }
    .section { 
      margin-bottom: 2rem; 
      padding-bottom: 1.5rem;
      border-bottom: 1px solid #eee;
    }
    .word-list { 
      display: flex; 
      flex-wrap: wrap; 
      gap: 0.5rem; 
      margin: 0.5rem 0; 
    }
    .word-item { 
      background: var(--light); 
      padding: 0.25rem 0.5rem; 
      border-radius: 4px; 
      font-family: monospace; 
      font-size: 0.95rem;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
    }
    th, td {
      border: 1px solid #ccc;
      padding: 0.5rem;
      text-align: left;
    }
    th {
      background-color: #f0f7f4;
    }
    .thought-experiment,
    .checkpoint {
      background: #f8f9fa;
      padding: 1rem;
      border-left: 4px solid var(--gold);
      margin: 1.5rem 0;
    }
    .quiz { 
      margin-top: 2rem; 
    }
    .question { 
      margin-bottom: 1.2rem; 
    }
    .options { 
      margin-left: 1rem; 
    }
    .option { 
      margin: 0.4rem 0; 
    }
    .btn {
      background: var(--green); 
      color: white; 
      border: none; 
      padding: 0.5rem 1rem;
      border-radius: 4px; 
      cursor: pointer; 
      font-size: 1rem; 
      margin-right: 0.5rem;
      display: inline-block;
    }
    .btn:hover { 
      background: #00502e; 
    }
    .btn-secondary { 
      background: #6c757d; 
    }
    .btn-secondary:hover { 
      background: #5a6268; 
    }
    .feedback { 
      margin-top: 1.5rem; 
      padding: 1rem; 
      background: var(--light); 
      border-left: 4px solid var(--green); 
    }
    footer { 
      text-align: center; 
      margin-top: 2rem; 
      font-size: 0.9rem; 
      padding-top: 1.5rem;
      border-top: 1px solid #eee;
    }
    a { 
      color: var(--green); 
      text-decoration: none; 
    }
    a:hover { 
      text-decoration: underline; 
    }
    blockquote {
      margin: 1rem 0;
      padding-left: 1rem;
      border-left: 3px solid var(--green);
      color: #555;
      font-style: italic;
    }
    .preview-next {
      background: #e8f5e9;
      padding: 1rem;
      border-radius: 6px;
      margin-top: 1.5rem;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <div>
        <h1>Modeling Number Quantities Greater Than 1,000,000,000</h1>
        <div class="lo-tags">B7.1.1.1.1</div>
      </div>
      <div class="role-badge">Student View</div>
    </div>

    <nav class="chapter-nav" id="chapter-nav"></nav>

    <main>
      <!-- Learning Objectives -->
      <div class="section">
        <h2>üéØ What You‚Äôll Learn</h2>
        <ul>
          <li>Understand how numbers bigger than one billion are built using place value.</li>
          <li>Use tools like graph paper, isometric paper, and base-10 blocks to model huge numbers.</li>
          <li>Break down big numbers into parts you can see and understand.</li>
        </ul>
      </div>

      <!-- Word List -->
      <div class="section">
        <h2>üî§ Important Words</h2>
        <p>Get familiar with these key terms:</p>
        <div class="word-list" id="word-list"></div>
      </div>

      <!-- Key Concepts -->
      <div class="section">
        <h2>üìò Understanding Big Numbers</h2>

        <h3>1. How Big Is a Billion?</h3>
        <p>One billion is written as 1,000,000,000. That‚Äôs a 1 followed by nine zeros!</p>
        <p>Numbers even bigger than that keep following the same pattern:</p>
        <table>
          <thead><tr><th>Place Name</th><th>Number</th></tr></thead>
          <tbody>
            <tr><td>Billions</td><td>1,000,000,000</td></tr>
            <tr><td>Ten Billions</td><td>10,000,000,000</td></tr>
            <tr><td>Hundred Billions</td><td>100,000,000,000</td></tr>
            <tr><td>Trillions</td><td>1,000,000,000,000</td></tr>
          </tbody>
        </table>

        <h3>2. Using Base-10 Blocks for Huge Numbers</h3>
        <p>You‚Äôve probably used small cubes, rods, and flats to show ones, tens, and hundreds. For really big numbers, we ‚Äúscale up‚Äù those blocks:</p>
        <table>
          <thead><tr><th>Block Name</th><th>What It Shows</th><th>Value</th></tr></thead>
          <tbody>
            <tr><td>Unit</td><td>One small cube</td><td>1</td></tr>
            <tr><td>Rod</td><td>10 units stuck together</td><td>10</td></tr>
            <tr><td>Flat</td><td>10 rods (100 units)</td><td>100</td></tr>
            <tr><td>Cube</td><td>10 flats (1,000 units)</td><td>1,000</td></tr>
            <tr><td>Large Cube</td><td>100,000 units</td><td>100,000</td></tr>
            <tr><td>Scaled Rod</td><td>10 large cubes</td><td>1,000,000</td></tr>
            <tr><td>Scaled Flat</td><td>10 scaled rods</td><td>10,000,000</td></tr>
            <tr><td>Scaled Block</td><td>10 scaled flats</td><td>100,000,000</td></tr>
          </tbody>
        </table>
        <blockquote>
          To make one billion (1,000,000,000), you need ten of the ‚Äú100 million‚Äù blocks.<br>
          Because 10 √ó 100,000,000 = 1,000,000,000.
        </blockquote>

        <h3>3. Drawing Big Numbers on Paper</h3>
        <p>You don‚Äôt always have physical blocks. So we use paper tools:</p>
        <ul>
          <li><strong>Graph paper</strong> (with squares): Each square can stand for 1, 1,000, or even 100,000‚Äîwhatever makes sense.</li>
          <li><strong>Isometric paper</strong> (with triangles): Helps you draw 3D-looking blocks so you can ‚Äúsee‚Äù the size difference between millions and billions.</li>
        </ul>
        <p><strong>Tip:</strong> Use different colors! For example:
          <ul>
            <li>Green for millions</li>
            <li>Blue for hundred millions</li>
            <li>Red for billions</li>
          </ul>
        This makes it easier to tell the parts apart.
        </p>
      </div>

      <!-- Hands-On Activity -->
      <div class="section">
        <h2>üõ†Ô∏è Let‚Äôs Practice: Modeling 2,450,000,000</h2>
        <p>Break this number into its parts:</p>
        <ul>
          <li>2 in the billions place ‚Üí 2 √ó 1,000,000,000</li>
          <li>4 in the hundred millions place ‚Üí 4 √ó 100,000,000</li>
          <li>5 in the ten millions place ‚Üí 5 √ó 10,000,000</li>
        </ul>
        <p>So to build it with scaled blocks, you‚Äôd use:</p>
        <ul>
          <li>20 blocks of 100,000,000 (to make 2 billion) <strong>plus</strong></li>
          <li>4 more blocks of 100,000,000 <strong>plus</strong></li>
          <li>5 flats of 10,000,000</li>
        </ul>
        <p><strong>Total:</strong> 24 blocks of 100 million + 5 flats of 10 million.</p>
        <p>On graph paper, draw 24 big rectangles labeled ‚Äú100M‚Äù and 5 smaller ones labeled ‚Äú10M‚Äù.</p>
      </div>

      <!-- Real-World Connection -->
      <div class="section">
        <h2>üåç Why This Matters</h2>
        <p>Governments, big companies, and even countries talk about money in the billions. For example, Ghana‚Äôs national budget might be over 100 billion cedis!</p>
        <p>If you can picture what ‚Äú100 billion‚Äù really looks like, you‚Äôll better understand news, budgets, and decisions that affect your life.</p>
        <div class="thought-experiment">
          <strong>Think About This:</strong> If Ghana spends 12.5 billion cedis on education in a year, how many GH‚Çµ200 notes would that be? (We‚Äôll explore this idea in the next lesson!)
        </div>
      </div>

      <!-- Core Skills -->
      <div class="section">
        <h2>üß† Skills You‚Äôre Building</h2>
        <ul>
          <li><strong>Critical Thinking:</strong> Breaking huge ideas into smaller, manageable pieces.</li>
          <li><strong>Communication:</strong> Explaining your thinking clearly to others using math words.</li>
        </ul>
      </div>

      <!-- Checkpoint Questions -->
      <div class="section">
        <h2>‚úÖ Check Your Understanding</h2>
        <div class="checkpoint">
          <ol>
            <li>How many ‚Äú100 million‚Äù blocks do you need to show 3.7 billion?</li>
            <li>Sketch a simple drawing of 1.2 billion using labeled boxes or rectangles.</li>
            <li>Why is it better to use scaled blocks instead of counting out one billion little cubes?</li>
          </ol>
          <p><em>Take your time. Make sure you‚Äôre confident before moving on!</em></p>
        </div>
      </div>

      <!-- Preview Next Lesson -->
      <div class="preview-next">
        <h3>üîú Coming Up: Lesson 2</h3>
        <p>We‚Äôll use real Ghanaian money‚Äîlike GH‚Çµ20, GH‚Çµ50, GH‚Çµ100, and GH‚Çµ200 notes‚Äîto model amounts up to one billion. You‚Äôll see how math connects directly to everyday life!</p>
      </div>

      <!-- Name & Quiz Section (Hidden Until Ready) -->
      <div id="student-name-prompt" class="section" style="display:none;">
        <h2>üë§ Your Name</h2>
        <div id="name-display"></div>
        <input type="text" id="student-name" placeholder="Enter your name" maxlength="30"
          style="padding:0.5rem;font-size:1rem;width:100%;margin:0.5rem 0;display:none;">
        <div id="name-buttons"></div>
      </div>

      <div class="quiz" id="quiz-container" style="display:none;">
        <h2>üìù Quick Check (20 Questions)</h2>
        <p>Choose the best answer for each question.</p>
        <form id="quiz-form"></form>
        <button type="button" class="btn" id="submit-quiz">Check My Answers</button>
      </div>

      <div id="feedback"></div>

      <!-- Footer -->
      <footer>
        <a href="../premium.html" style="display:block; margin-bottom:0.5rem;">‚ú® Unlock Premium Features</a>
        <a href="#" id="send-analytics" style="color:#6c757d;">üì§ Send Anonymous Usage Data</a>
        <br>
        <a href="../dashboard.html">üìä View My Progress</a>
      </footer>
    </main>
  </div>

  <script>
    // ====== Basic Setup ======
    const currentChapter = 0;
    const MAX_CHAPTER = 261;
    const WHATSAPP_NUMBER = "233257320201";
    window.startTime = Date.now();

    // Analytics
    const ANALYTICS_KEY = 'miniopenstax_analytics_consent';
    function isAnalyticsEnabled() {
      return localStorage.getItem(ANALYTICS_KEY) === '1';
    }
    function logEvent(type, data = {}) {
      if (!isAnalyticsEnabled()) return;
      const events = JSON.parse(localStorage.getItem('events') || '[]');
      events.push({ type, timestamp: Date.now(), lesson: currentChapter, data });
      localStorage.setItem('events', JSON.stringify(events));
    }
    function enableAnalytics() {
      localStorage.setItem(ANALYTICS_KEY, '1');
    }

    // Simple shuffle (for quiz options)
    function shuffle(array) {
      const arr = [...array];
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }

    // Content
    const WORDS = [
      "billion", "trillion", "place value", "base-10 blocks",
      "graph paper", "isometric paper", "hundred million",
      "ten billion", "scaled model", "break down"
    ];

    const QUIZ = [
      { q: "How many 100,000,000 blocks make 1,000,000,000?", a: "10", opts: ["1", "10", "100", "1,000"] },
      { q: "Which paper helps you draw 3D-looking blocks?", a: "Isometric paper", opts: ["Plain paper", "Graph paper", "Isometric paper", "Notebook"] },
      { q: "What does a 'scaled flat' represent?", a: "10,000,000", opts: ["1,000", "10,000,000", "100,000,000", "1,000,000,000"] },
      { q: "How many 100,000,000 blocks for 3.7 billion?", a: "37", opts: ["37", "370", "3", "7"] },
      { q: "What place comes right after 'billions'?", a: "Ten billions", opts: ["Millions", "Ten billions", "Hundred thousands", "Trillions"] },
      { q: "Why scale up blocks for big numbers?", a: "Counting single units is impractical", opts: ["To save plastic", "Counting single units is impractical", "To make them prettier", "To confuse students"] },
      { q: "How to model 2,450,000,000?", a: "24 √ó 100M + 5 √ó 10M", opts: ["24 √ó 100M + 5 √ó 10M", "2 √ó 1B + 45 √ó 1M", "245 √ó 10M", "2450 √ó 1M"] },
      { q: "How many billions in one trillion?", a: "1,000", opts: ["10", "100", "1,000", "10,000"] },
      { q: "Which paper has square grids?", a: "Graph paper", opts: ["Isometric paper", "Graph paper", "Whiteboard", "Chart paper"] },
      { q: "Value of '4' in 4,200,000,000?", a: "4 billion", opts: ["4 million", "400 million", "4 billion", "40 billion"] },
      { q: "How many 100M blocks for 5 billion?", a: "50", opts: ["5", "50", "500", "5,000"] },
      { q: "What skill do you build by explaining your model?", a: "Communication", opts: ["Physical fitness", "Communication", "Cooking", "Memory recall only"] },
      { q: "What is 10 √ó 100,000,000?", a: "1,000,000,000", opts: ["100,000,000", "1,000,000,000", "10,000,000,000", "100,000,000,000"] },
      { q: "In our number system, each place is how many times the last?", a: "10", opts: ["2", "5", "10", "100"] },
      { q: "Which is larger: 999,999,999 or 1,000,000,000?", a: "1,000,000,000", opts: ["999,999,999", "1,000,000,000", "They are equal", "Cannot compare"] },
      { q: "Why color-code blocks?", a: "To tell place values apart", opts: ["To match uniforms", "To tell place values apart", "To reduce printing cost", "For decoration"] },
      { q: "How to show 1.2 billion with 100M blocks?", a: "12 blocks", opts: ["12 blocks", "120 blocks", "1 block", "2 blocks"] },
      { q: "Where do we see numbers over 1 billion?", a: "National budget", opts: ["Pencils in a box", "National budget", "Pages in a book", "Students in class"] },
      { q: "What comes after 'hundred billions'?", a: "Trillions", opts: ["Trillions", "Quadrillions", "Ten trillions", "Millions"] },
      { q: "Why model big numbers?", a: "To understand their size and make smart choices", opts: ["It makes math harder", "To understand their size and make smart choices", "Only teachers need it", "It replaces calculators"] }
    ];

    // ====== Rendering Functions ======
    function renderWords() {
      document.getElementById('word-list').innerHTML =
        WORDS.map(w => `<span class="word-item">${w}</span>`).join('');
    }

    function renderNavigation() {
      const nav = document.getElementById('chapter-nav');
      let html = `<a href="../index.html" class="chapter-btn">Home</a>`;
      for (let i = 0; i < 3; i++) {
        const num = currentChapter + i + 1;
        const active = i === 0 ? 'active' : '';
        html += `<a href="chapter-${currentChapter + i}.html" class="chapter-btn ${active}">Lesson ${num}</a>`;
      }
      nav.innerHTML = html;
    }

    function renderQuiz() {
      const form = document.getElementById('quiz-form');
      let html = '';
      QUIZ.forEach((item, idx) => {
        const num = idx + 1;
        const opts = shuffle(item.opts);
        html += `<div class="question"><strong>${num}. ${item.q}</strong><div class="options">`;
        opts.forEach(opt => {
          const letter = String.fromCharCode(65 + opts.indexOf(opt));
          html += `<div class="option"><label><input type="radio" name="q${num}" value="${opt}" required> ${letter}. ${opt}</label></div>`;
        });
        html += `</div></div>`;
      });
      form.innerHTML = html;
    }

    function showFeedback() {
      const answers = [];
      for (let i = 1; i <= 20; i++) {
        const el = document.querySelector(`input[name="q${i}"]:checked`);
        answers.push(el ? el.value : null);
      }
      if (answers.includes(null)) {
        alert("Please answer all questions.");
        return;
      }

      let correct = 0;
      const results = [];
      QUIZ.forEach((item, i) => {
        const isCorrect = answers[i] === item.a;
        if (isCorrect) correct++;
        results.push({ q: item.q, given: answers[i], correct: item.a, ok: isCorrect });
      });

      const score = correct;
      const mastery = score >= 15;
      const timeSec = Math.floor((Date.now() - window.startTime) / 1000);
      const attempts = (parseInt(localStorage.getItem('attempts_0')) || 0) + 1;
      localStorage.setItem('attempts_0', attempts);
      const name = localStorage.getItem('student_name') || '[Name]';

      // Build WhatsApp message
      let msg = `*Mini OpenStax ‚Äî Big Numbers Lesson*\nStudent: ${name}\nScore: ${score}/20 (${Math.round(score/20*100)}%) ‚Äî ${mastery ? '‚úÖ MASTERED' : '‚ùå Needs Review'}\nTime: ${timeSec}s | Attempts: ${attempts}\n\n`;
      if (mastery) msg += "üéâ Great job! You've mastered modeling huge numbers.\n";
      
      const url = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(msg)}`;

      document.getElementById('feedback').innerHTML = `
        <div class="feedback">
          <h3>Your Score: ${score} out of 20</h3>
          <p><strong>${mastery ? 'üéâ Excellent!' : score >= 10 ? 'Good effort!' : 'Keep practicing.'}</strong></p>
          <p>${mastery ? 'You‚Äôve mastered the concept!' : score >= 10 ? 'Review the questions you missed.' : 'Try the lesson again, then retake the quiz.'}</p>
          <p><strong>Time:</strong> ${timeSec} seconds | <strong>Attempts:</strong> ${attempts}</p>
          <a href="${url}" target="_blank" class="btn" style="background:#25D366;text-decoration:none;">üì≤ Send My Report</a>
        </div>
      `;
    }

    function setupNamePrompt() {
      const saved = localStorage.getItem('student_name');
      const promptDiv = document.getElementById('student-name-prompt');
      const quizDiv = document.getElementById('quiz-container');

      if (saved) {
        promptDiv.style.display = 'block';
        quizDiv.style.display = 'none';
        document.getElementById('name-display').innerHTML = `<p><strong>Name saved:</strong> ${saved}</p>`;
        document.getElementById('name-buttons').innerHTML = `
          <button class="btn" onclick="startQuiz()">‚úÖ Keep This Name</button>
          <button class="btn btn-secondary" onclick="askForNewName()">‚úèÔ∏è Use a Different Name</button>
        `;
      } else {
        askForNewName();
      }
    }

    function askForNewName() {
      document.getElementById('student-name-prompt').style.display = 'block';
      document.getElementById('quiz-container').style.display = 'none';
      document.getElementById('name-display').style.display = 'none';
      document.getElementById('student-name').style.display = 'block';
      document.getElementById('student-name').value = '';
      document.getElementById('name-buttons').innerHTML = `
        <button class="btn" onclick="saveName()">üíæ Save and Start Quiz</button>
        <div style="margin-top:1rem; font-size:0.9rem;">
          <label><input type="checkbox" id="teacher-mode"> I'm a teacher (help improve lessons)</label>
        </div>
      `;
    }

    // Global functions for buttons
    window.startQuiz = function() {
      document.getElementById('student-name-prompt').style.display = 'none';
      document.getElementById('quiz-container').style.display = 'block';
      logEvent('lesson_start');
    };

    window.askForNewName = askForNewName;

    window.saveName = function() {
      const name = document.getElementById('student-name').value.trim();
      if (!name) {
        alert("Please enter your name.");
        return;
      }
      localStorage.setItem('student_name', name);
      const isTeacher = document.getElementById('teacher-mode').checked;
      if (isTeacher) enableAnalytics();
      window.startQuiz();
    };

    // ====== Initialize Page ======
    function init() {
      renderNavigation();
      renderWords();
      renderQuiz();
      document.getElementById('submit-quiz').onclick = showFeedback;
      setupNamePrompt();
    }

    document.addEventListener('DOMContentLoaded', () => {
      document.getElementById('send-analytics').onclick = (e) => {
        e.preventDefault();
        if (confirm('Help us improve Mini OpenStax by sharing anonymous usage data?')) {
          alert("Thank you! Your data will be sent securely.");
          // In a full app, this would send logs‚Äîbut simplified here
        }
      };
      init();
    });
  </script>
</body>
</html>
